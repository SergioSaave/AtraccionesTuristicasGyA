import folium
import json
from shapely.geometry import shape

# Tu GeoJSON
geojson_data = '{"type":"LineString","coordinates":[[-70.6515218,-33.4377646],[-70.6514544,-33.4377576],[-70.65131,-33.4377427],[-70.6513257,-33.437637],[-70.6513388,-33.4375487],[-70.6513547,-33.4374418],[-70.6513564,-33.4374301],[-70.6524727,-33.4375454],[-70.6524252,-33.4378658],[-70.6524043,-33.4378636],[-70.6523004,-33.4378527],[-70.6522903,-33.4379217],[-70.652284,-33.4379644],[-70.6522741,-33.4380293],[-70.6522676,-33.4380724],[-70.6522541,-33.438071],[-70.6521492,-33.4380604],[-70.6521478,-33.4380696],[-70.6520567,-33.4380602],[-70.6520584,-33.4380487],[-70.6518835,-33.4380304],[-70.6517715,-33.4380189],[-70.6517906,-33.437891],[-70.6518385,-33.4378958],[-70.6518529,-33.4377987],[-70.6516778,-33.4377808],[-70.6515218,-33.4377646],[-70.6514443,-33.4444331],[-70.6514236,-33.4445594],[-70.6514039,-33.4445543],[-70.6513506,-33.4446963],[-70.651393,-33.4447073],[-70.6513823,-33.4447723],[-70.6513885,-33.4447739],[-70.6513684,-33.4448965],[-70.6512537,-33.4448666],[-70.6512554,-33.4448621],[-70.6505636,-33.4446815],[-70.6505627,-33.4446841],[-70.6504662,-33.4446589],[-70.6505067,-33.444551],[-70.6505091,-33.4445517],[-70.6505892,-33.4443382],[-70.6505864,-33.4443375],[-70.65059,-33.4443277],[-70.6506201,-33.4442476],[-70.6506299,-33.4442215],[-70.6507352,-33.444249],[-70.6507342,-33.4442516],[-70.6509784,-33.4443154],[-70.6509794,-33.4443127],[-70.6510992,-33.444344],[-70.6510982,-33.4443467],[-70.6513394,-33.4444096],[-70.6513407,-33.4444061],[-70.6514443,-33.4444331]]}'

# Cargar el GeoJSON
data = json.loads(geojson_data)

# Obtener las coordenadas de la línea
coordinates = data['coordinates']

# Crear un mapa centrado en el punto medio de la línea
midpoint = [(coordinates[0][1] + coordinates[-1][1]) / 2, (coordinates[0][0] + coordinates[-1][0]) / 2]
map_center = folium.Map(location=midpoint, zoom_start=15)

# Agregar la línea al mapa
folium.PolyLine(locations=[(lat, lon) for lon, lat in coordinates], color='blue', weight=5).add_to(map_center)

# Guardar el mapa en un archivo HTML
map_center.save('line_map.html')

# Mostrar el mapa en un navegador
import webbrowser
webbrowser.open('line_map.html')
